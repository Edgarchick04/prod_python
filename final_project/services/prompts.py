def build_route_prompt(latitude: float, longitude: float, duration: int, mood: str, activity: str, points: int, nearby_places: str) -> str:
    return f"""
СПИСОК МЕСТ С РАССТОЯНИЕМ ОТ ПОЛЬЗОВАТЕЛЯ:
{nearby_places}

ДАННЫЕ:
- Настроение: {mood}
- Тип прогулки: {activity} ТО ЕСТЬ ПОЛУЧЕННЫЕ МЕСТА ДОЛЖНЫ СООТВТСТВОВАТЬ ЭТОМУ ТИПУ

ТЕХНИЧЕСКОЕ ЗАДАНИЕ:
Ты — продвинутый GPS-навигатор и городской гид. Твоя цель — составить маршрут ровно из {points} точек.
1. Используй ТОЛЬКО места из списка выше, выбранные места должны соответствовать характеристикам: {mood}, {activity}

2. РАСЧЕТ ВРЕМЕНИ: Человек идет со скоростью 80 метров в минуту. 
   - Если до точки 400м, переход займет 5 минут
   - Если до точки 800м, переход займет 10 минут
3. ОБЩИЙ ТАЙМИНГ: Сумма всех `walk_time_min` (время переходов) + время на осмотр/задания должна быть ПРИМЕРНО {duration} минут.
4. ЛОГИКА: Выбирай точки так, чтобы они находились в одной стороне или по кругу, а не заставляли пользователя бегать зигзагами.

Верни JSON:
{{
  "points": [
    {{
      "name": "Название из списка (без указания метров)",
      "description": "Почему это место подходит под настроение {mood}",
      "walk_time_min": "рассчитанное время перехода в минутах",
      "task": "Задание на точке"
    }}
  ]
}}
Строго не пиши никакие комментарии, только сам json
"""


def build_task_prompt(mood: str, activity: str, group_size: str) -> str:
    return f"""
Роль: Ты — креативный организатор городских квестов.
Задача: Придумай ОДНО конкретное игровое задание для компании из строго {group_size} чел.
Если человек 1, то не надо давать задания требующие еще кого-то.

Контекст:
- Настроение прогулки: {mood}
- Тематика: {activity}

Требования к заданию:
1. Это должно быть ДЕЙСТВИЕ (глагол в повелительном наклонении).
2. Задание должно быть выполнимым на улице или в общественном месте без подготовки.
3. Стиль: коротко, вовлекающе, без лишних вступлений.
4. Длина: 1-2 предложения (макс 100 токенов).

ПРИМЕРЫ:
- "Найдите вывеску с самым странным названием и сфотографируйтесь на её фоне всей группой."
- "Купите один стакан кофе и попробуйте угадать три ингредиента, которые в него добавили."

ВЕРНИ ТОЛЬКО ТЕКСТ ЗАДАНИЯ БЕЗ КАВЫЧЕК И ПОЯСНЕНИЙ.
"""
